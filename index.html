<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>

<head>
<title>Zoe and Peter's Wedding</title>
</head>

<body>
<meta name="robots" content="noindex,nofollow">
<h1>Peter and Zoe's wedding website </h1>
Under-development!

<div class="container">
    <form class="form-rsvp">
        <h2 class="form-rsvp-heading">RSVP Here</h2>
        <label for="inputName" class="sr-only">Name</label>
        <input type="text" id="inputName" class="form-control" placeholder="Name" required autofocus>
        <input type="button" onclick="clickSubmit()" value="Submit">
    </form>
</div>

<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-analytics.js"></script>
<script>
    var firebaseConfig = {
      apiKey: "AIzaSyCPdEtSwodTo2Kg1LJk06bSmtGeIH1zyLk",
      authDomain: "zoepeter-fab29.firebaseapp.com",
      databaseURL: "https://zoepeter-fab29.firebaseio.com",
      projectId: "zoepeter-fab29",
      storageBucket: "zoepeter-fab29.appspot.com",
      messagingSenderId: "21329665131",
      appId: "1:21329665131:web:84d6180895af345140652e",
      measurementId: "G-5SP8B0650R"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
   
    function clickSubmit() {
        name = document.getElementById("inputName").value
        console.log("Submitted"+name)
        saveRsvp(name)
    }
    function saveRsvp(name) {
        var rsvpObject = {
            name: name
        };
        firebase.database().ref('rsvps').push().set(rsvpObject)
            .then(function(snapshot) {
                console.log("SUCCESS!")
            }, function(error) {
                console.log('error: ' + error);
            }
        );
    }
</script>

</body>
</html>
